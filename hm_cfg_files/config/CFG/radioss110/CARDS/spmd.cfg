//
// SPMD
//

ATTRIBUTES(COMMON)
{

    KEYWORD_STR                             = VALUE(STRING, "Solver Keyword");
    DOMDEC                                  = VALUE(INT, "Type of domain decomposition for SPMD version");
    SPMD                                    = VALUE(INT, "Number of SPMD domains.");
    DECMOT                                  = VALUE(INT, "User-defined value for requested memory used by RSB Domain Decomposition");
    Nthread                                 = VALUE(INT, "Number of SMP threads per SPMD domain");
}

DEFAULTS(COMMON) {

    SPMD = 1;
    Nthread = 1;
    DOMDEC  = 3;
}

SKEYWORDS_IDENTIFIER(COMMON)
{
    KEYWORD_STR                             = 7003;
    DOMDEC                                  = 5018;
    SPMD                                    = 2129;
    DECMOT                                  = 4174;
    Nthread                                 = 4774;
}

GUI(COMMON)
{
    ASSIGN(KEYWORD_STR, "/SPMD");
    RADIO(DOMDEC)
    {
        ADD(2,"2: Number of SPMD domains");
        ADD(3,"3: User-defined value for requested memory used by RSB Domain Decomposition");
        ADD(5,"5: Number of SMP threads per SPMD domain");
    }
    SCALAR(SPMD);
    SCALAR(DECMOT);
    SCALAR(Nthread);
}

// File format

FORMAT(radioss41) {
      HEADER("/SPMD");
      COMMENT("# Domdec   Nspmd");
      CARD("%8d%8d",DOMDEC,SPMD);
}

FORMAT(radioss44) {
      HEADER("/SPMD");
      COMMENT("#   Domdec     Nspmd              Dkword ");
      CARD("%8d%8d        %8d",DOMDEC,SPMD,DECMOT);      
}

FORMAT(radioss51) {
      HEADER("/SPMD");
      COMMENT("#   Domdec     Nspmd              Dkword ");
      CARD("%10d%10d          %10d",DOMDEC,SPMD,DECMOT);
}

FORMAT(radioss110) {
      HEADER("/SPMD");
      COMMENT("#   Domdec     Nspmd              Dkword             Nthread");
      CARD("%10d%10d          %10d          %10d",DOMDEC,SPMD,DECMOT,Nthread);
}