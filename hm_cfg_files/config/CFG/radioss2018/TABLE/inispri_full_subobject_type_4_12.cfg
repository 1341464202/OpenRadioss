//  /INISPRI/FULL SUBOBJECT if prop_type = 4, 12

ATTRIBUTES(COMMON)
{
    // INPUT ATTRIBUTES
    spring_ID                              = VALUE(ELEMS, "Element identifier");
    prop_type                              = VALUE(INT, "Property set");
    nvars                                  = SIZE("Number of user element variables");
    F_X                                    = VALUE(FLOAT,"Spring element force along X direction");
    D_X                                    = VALUE(FLOAT,"Spring element elongation along X direction");
    FEP_X                                  = VALUE(FLOAT,"Spring elastic-plastic force along X direction");
    DPL_X+                                 = VALUE(FLOAT,"Max displacement in positive X direction");
    DPL_X-                                 = VALUE(FLOAT,"Max displacement in negative X direction");
    L_X                                    = VALUE(FLOAT,"Spring length along X direction");
    EI                                     = VALUE(FLOAT,"Total internal energy");
    DFS                                    = VALUE(FLOAT,"Relative force between pulley branches");
}

SKEYWORDS_IDENTIFIER(COMMON)
{
    //INPUT ATTRIBUTES
    spring_ID                              = -1;
    prop_type                              = -1;
    nvars                                  = -1;
    F_X                                    = -1;
    D_X                                    = -1;
    FEP_X                                  = -1;
    DPL_X+                                 = -1;
    DPL_X-                                 = -1;
    L_X                                    = -1;
    EI                                     = -1;
    DFS                                    = -1;
}

GUI(COMMON)
{
    DATA(spring_ID, "spring_ID");
    SCALAR(prop_type, "prop_type") { DIMENSION = "DIMENSIONLESS"; }
    SIZE(nvars, "nvars");
    if(prop_type == 4 )
    {
        SCALAR(F_X,"F_X")          { DIMENSION = "force"; }
        SCALAR(D_X,"D_X")          { DIMENSION = "l"; }
        SCALAR(FEP_X,"FEP_X")      { DIMENSION = "force"; }
        SCALAR(DPL_X+,"DPL_X+")    { DIMENSION = "l"; }
        SCALAR(DPL_X-,"DPL_X-")    { DIMENSION = "l"; }
        SCALAR(L_X,"L_X")          { DIMENSION = "l"; }
        SCALAR(EI,"EI")            { DIMENSION = "energy"; }
    }
    else if(prop_type == 12)
    {
        SCALAR(F_X,"F_X")          { DIMENSION = "force"; }
        SCALAR(D_X,"D_X")          { DIMENSION = "l"; }
        SCALAR(FEP_X,"FEP_X")      { DIMENSION = "force"; }
        SCALAR(DPL_X+,"DPL_X+")    { DIMENSION = "l"; }
        SCALAR(DPL_X-,"DPL_X-")    { DIMENSION = "l"; }
        SCALAR(L_X,"L_X")          { DIMENSION = "l"; }
        SCALAR(EI,"EI")            { DIMENSION = "energy"; }
        SCALAR(DFS,"DFS")          { DIMENSION = "force"; }
    }
}

// File format
FORMAT(radioss2018)
{
    COMMENT("# springID prop_type     nvars");
    CARD("%10d%10d%10d",spring_ID,prop_type,nvars);
    COMMENT("#                F_X                 D_X               FEP_X              DPL_X+              DPL_X-");
    CARD("%20lg%20lg%20lg%20lg%20lg",F_X,D_X,FEP_X,DPL_X+,DPL_X-);
    if(prop_type == 4)
    {
        COMMENT("#                L_X                  EI");
        CARD("%20lg%20lg",L_X,EI);
    }
    else
    {
        COMMENT("#                L_X                  EI                 DFS");
        CARD("%20lg%20lg%20lg",L_X,EI,DFS);
    }
}
