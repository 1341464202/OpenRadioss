//
//LOAD_SEGMENT
//

ATTRIBUTES(COMMON) {
  //standard variables
    _HAS_HEADER                                       = VALUE(BOOL, "Header card flag");
    distribution_table_count                          = SIZE("Size of tabular");

    //Data names
    keyword_name                                      = VALUE(BOOL, "Title");
    displayname                                       = VALUE(STRING, "Heading");
    entityid                                          = VALUE(SETS, "Node ID") { SUBTYPES = ( /SETS ) ; }
    magnitude                                         = ARRAY[distribution_table_count](FLOAT, "Temperature at node");
    rgd_bdy_vel_opt_overwrite                         = ARRAY[distribution_table_count](INT, "Overwrite vel of all *PART_INERTIA and *CNRB");
    activation_time                                   = ARRAY[distribution_table_count](FLOAT,"Time imposed motion/constraint is activated");
    curveid                                           = ARRAY[distribution_table_count](FUNCT, "Load curve");
    location_unit_facet                               = ARRAY[distribution_table_count](MULTIOBJECT,  "EID") { SUBTYPES = ( /NODE , /ELEMS , /SETS , /COMPONENT, /LINE , /POINT ) ; }
    os_g1                                             = ARRAY[distribution_table_count](NODE, "G1");
    os_g2                                             = ARRAY[distribution_table_count](NODE, "G2");
    os_g3                                             = ARRAY[distribution_table_count](NODE, "G3");
    os_g4                                             = ARRAY[distribution_table_count](NODE, "G4");
}

DEFINITIONS(COMMON) {
    MAINS               = (location_unit_facet);
    GET_ALL_ELEMENT_NODES   = (entityid, os_g1,os_g2,os_g3,os_g4);
}

DEFAULTS(COMMON) {
   _HAS_HEADER                   = TRUE;
}

GUI(COMMON) {
/*
*/
}


FORMAT(Keyword971)
{
    if(keyword_name != 0 && distribution_table_count == 1)
    {
        HEADER("*LOAD_SEGMENT_ID");
        COMMENT("$       IDHEADING");
        CARD("%10d%-70s",_ID_, displayname);
    }
    else
    {
        HEADER("*LOAD_SEGMENT");
    }
    COMMENT("$     LCID        SF        AT        N1        N2        N3        N4");
    CARD_LIST(distribution_table_count)
    {
        if(rgd_bdy_vel_opt_overwrite >= 0)
        {
            CARD("%10d%10lf%10lf%10d%10d%10d%10d",curveid,magnitude,activation_time,os_g1,os_g2,os_g3,os_g4);
        }
        else
        {
            CARD("%10d%10lf%10lf%10d%10d%10d%10d",rgd_bdy_vel_opt_overwrite,magnitude,activation_time,os_g1,os_g2,os_g3,os_g4);
        }
    }
}




