//
// SPH slide boundary condition Setup File
// 

// MCDS attributes description
ATTRIBUTES(COMMON) {
  // Data
  rad_inivel_type    = VALUE(STRING, "type");
  vector_X           = VALUE(FLOAT,  "Direction"); 
  vector_Y           = VALUE(FLOAT,  "Direction"); 
  vector_Z           = VALUE(FLOAT,  "Direction"); 
  inputsystem        = VALUE(SYSTEM, "Skew");
  // Support
  entityid           = VALUE(SETS,"Node group") { SUBTYPES = (/SETS/GRNOD); }
  displayname     = VALUE(STRING, "Title");
}

DEFINITIONS(COMMON) {
  _TRIPLE = (vector_X);
}

// GUI description (Common domain)
GUI(COMMON) {

SCALAR(vector_X) { DIMENSION="velocity"; }
SCALAR(vector_Y) { DIMENSION="velocity"; }
SCALAR(vector_Z) { DIMENSION="velocity"; }
 /* 
 mandatory:
  //FLAG(ILEVEL,"Rebound");
  graphical RADIO(rad_dir) {
    ADD("X","X");
    ADD("Y","Y");
    ADD("Z","Z");
  }
  //
 mandatory:
  graphical TOOL(inputsystem) { ORIGIN=MANDATORY; }
  //
  
 mandatory:
  graphical SUPPORT("Support") {
    OBJECTS=(SPHCEL,/COMPONENT/SPHCEL);
    ADD(entityid,"Node Group");
  }
  */
  /*
  optional:
  graphical RADIO(rad_sphbcs_ilev) {
     ADD(0,"0: (Real) particles crossing symmetry plane will progressively not be taken into account anymore in the computation");
     ADD(1,"1: (Real) particles will rebound on the symmetry plane");
  } 
*/  
}

// File format

FORMAT(radioss41) {
  HEADER("/INIVEL/%s/%d/%-40s",rad_inivel_type,_ID_, displayname);
  COMMENT("#             Vx              Vy              Vz Gnod_id");
  CARD("%16lg%16lg%16lg%8d",vector_X,vector_Y,vector_Z,entityid);
  //
 /* COMMENT("#  Node1   Node2   Node3   Node4   Node5   Node6   Node7   Node8   Node9  Node10");
  FREE_CELL_LIST(NB_NODES,"%8d",NODE,80) ;*/
}
FORMAT(radioss44) {
  HEADER("/INIVEL/%s/%d/%-40s",rad_inivel_type,_ID_, displayname);
  COMMENT("#             Vx              Vy              Vz Gnod_id Skew_id");
  CARD("%16lg%16lg%16lg%8d%8d",vector_X,vector_Y,vector_Z,entityid,inputsystem);
  //
  /*COMMENT("#  Node1   Node2   Node3   Node4   Node5   Node6   Node7   Node8   Node9  Node10");
  FREE_CELL_LIST(NB_NODES,"%8d",NODE,80) ;*/
}

FORMAT(radioss51) {
  HEADER("/INIVEL/%s/%d",rad_inivel_type,_ID_);
  CARD("%-100s", displayname);
  COMMENT("#                 Vx                  Vy                  Vz   Gnod_id   Skew_id");
  CARD("%20lg%20lg%20lg%10d%10d",vector_X,vector_Y,vector_Z,entityid,inputsystem);
}
